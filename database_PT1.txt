CREATE DATABASE game_store;

USE game_store;

CREATE TABLE games (
    game_id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    category VARCHAR(100),
    console VARCHAR(50),
    price DECIMAL(10,2),
    quantity_in_stock INT DEFAULT 0,
    release_date DATE,
    publisher VARCHAR(100),
    esrb_rating VARCHAR(10),
    description TEXT,
    image_path VARCHAR(255)
);

CREATE TABLE employees (
    employee_id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT UNIQUE,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE,
    role ENUM('employee', 'manager') NOT NULL,
    wage DECIMAL(10,2),
    schedule TEXT,
    hire_date DATE,
    department VARCHAR(100),
    manager_id INT,
    FOREIGN KEY (manager_id) REFERENCES employees(employee_id) ON DELETE SET NULL
);

CREATE TABLE manager (
	
)

CREATE TABLE stock_updates (
    update_id INT PRIMARY KEY AUTO_INCREMENT,
    game_id INT,
    employee_id INT,
    old_quantity INT,
    new_quantity INT,
    update_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (game_id) REFERENCES games(game_id),
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id)
);

SHOW DATABASES;

SHOW TABLES;

DESCRIBE games;